<div class="container-fluid">
  <div class="row mx-0 px-0" id="pageheader">
    <div class="col-sm-auto">
      <span class="page-name">White labelling company
      </span>
    </div>
  </div>


  <div class="row chartbox">
    <div class="col-sm-5 border-end">
      <div class="card card-body mb-3">
        <form class="form-container" [formGroup]="formFrancisize" (submit)="SubmitOrUpdate()">
          <div class="row mb-2">
            <div class="col-sm-6">
              <label class="form-label required-field">Company Name</label>
              <input type="text" appRemoveTrimBound formControlName="fullName"
                [ngClass]="{ 'is-invalid': isSubmitted && f.fullName.errors }" class="form-control"
                placeholder="Company Name" [maxlength]="50" autofocus>
              <div *ngIf="isSubmitted && f.fullName.errors" class="invalid-feedback">
                <div *ngIf="f.fullName.errors.required">Company Name is required</div>
                <div *ngIf="f.fullName.errors.pattern">Enter valid Company Name</div>
              </div>
            </div>
            <div class="col-sm-6">
              <label class="form-label">Company URL</label>
              <input type="url" formControlName="companyUrl"
                [ngClass]="{ 'is-invalid': isSubmitted && f.companyUrl.errors }" class="form-control"
                placeholder="Company URL">
              <div *ngIf="isSubmitted && f.companyUrl.errors" class="invalid-feedback">
                <div *ngIf="f.companyUrl.errors.required">Company URL is required</div>
                <div *ngIf="f.companyUrl.errors.pattern">Enter valid Company URL</div>
              </div>
            </div>
          </div>
          <div class="row mb-2">
            <div class="col-sm-6">
              <label class="form-label required-field">Mobile No.</label>
              <input type="url" formControlName="mobileNo1"
                [ngClass]="{ 'is-invalid': isSubmitted && f.mobileNo1.errors }" OnlyNumber class="form-control"
                maxlength="10" placeholder="Mobile No.">
              <div *ngIf="isSubmitted && f.mobileNo1.errors" class="invalid-feedback">
                <div *ngIf="f.mobileNo1.errors.required">Mobile No. is required</div>
                <div *ngIf="f.mobileNo1.errors.pattern">Enter valid Mobile No.</div>
              </div>
            </div>
            <div class="col-sm-6">
              <!-- <label class="form-label">Mobile No. 2 <span class="text-danger">*</span></label> -->
              <label class="form-label">Contact No.</label>
              <input type="url" formControlName="mobileNo2"
                [ngClass]="{ 'is-invalid': isSubmitted && f.mobileNo2.errors }" OnlyNumber class="form-control"
                maxlength="11" placeholder="Contact No.">
              <div *ngIf="isSubmitted && f.mobileNo2.errors" class="invalid-feedback">
                <div *ngIf="f.mobileNo2.errors.required">Contact Number Is Required</div>
                <div *ngIf="f.mobileNo2.errors.pattern">Enter valid Contact Number </div>
              </div>
              <div *ngIf="isSubmitted && formFrancisize.errors?.['samePhoneNumber']" class="invalid-feedback">
                <div *ngIf="formFrancisize.errors?.['samePhoneNumber']">Please enter different Contact No.</div>
              </div>

            </div>
          </div>
          <div class="row mb-2">
            <div class="col-sm-6">
              <label class="form-label">Company Email ID </label>
              <input type="email" [maxlength]="50" formControlName="companyEmailid"
                (keypress)="commonService.emailRegex($event)"
                [ngClass]="{ 'is-invalid': isSubmitted && f.companyEmailid.errors }" class="form-control"
                placeholder="Company Email ID">
              <div *ngIf="isSubmitted && f.companyEmailid.errors" class="invalid-feedback">
                <div *ngIf="f.companyEmailid.errors.email">Enter valid Company Email ID</div>
              </div>
            </div>

            <div class="col-sm-6">
              <label class="form-label">Contact Person Name </label>
              <input type="text" [maxlength]="50" class="form-control"
                [ngClass]="{ 'is-invalid': isSubmitted && f.contactPersonName.errors }" OnlyAlphabets
                formControlName="contactPersonName" placeholder="Contact Person Name">
              <div *ngIf="isSubmitted && f.contactPersonName.errors" class="invalid-feedback">
                <div *ngIf="f.contactPersonName.errors.pattern">Enter valid Contact Person Name</div>
              </div>
            </div>
          </div>
          <div class="row mb-2">
            <div class="col-sm-6">
              <label class="form-label">Contact Person No. </label>
              <input type="text" class="form-control" OnlyNumber maxlength="10" formControlName="contactPersonNo"
                placeholder="Contact Person No." maxlength="11"
                [ngClass]="{ 'is-invalid': isSubmitted && f.contactPersonNo.errors }">
              <div *ngIf="isSubmitted && f.contactPersonNo.errors" class="invalid-feedback">
                <div *ngIf="f.contactPersonNo.errors.required">Contact Person Number Is required</div>
                <div *ngIf="f.contactPersonNo.errors.pattern">Enter valid Contact Person No.</div>
              </div>
            </div>
            <div class="col-sm-6">
              <label class="form-label">Contact Person Email ID </label>
              <input type="email" class="form-control" [maxlength]="50" formControlName="contactPersonEmailId"
                placeholder="Contact Person Email ID" (keypress)="commonService.emailRegex($event)"
                [ngClass]="{ 'is-invalid': isSubmitted && f.contactPersonEmailId.errors }">
              <div *ngIf="isSubmitted && f.contactPersonEmailId.errors" class="invalid-feedback">
                <div *ngIf="f.contactPersonEmailId.errors.email">Enter valid Contact Person Email ID</div>
              </div>
            </div>
            <div class="mb-2">
              <label class="form-label"> Company Address </label>
              <textarea class="form-control" formControlName="address" [maxlength]="100"
                [ngClass]="{ 'is-invalid': isSubmitted && f.address.errors }" placeholder="Enter Company Address"
                rows="3"></textarea>
              <div *ngIf="isSubmitted && f.address.errors" class="invalid-feedback">
                <div *ngIf="f.address.errors.required">Company Address Is Required</div>
                <div *ngIf="f.address.errors.pattern">Enter Valid Company Address.</div>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Company Logo </label>
            <input type="file" accept="image/*" #fileInputFrancisizeIcon formControlName="francisizeLogo"
              class="form-control" (change)="uploadImage($event)">

            <div class="d-flex" *ngIf="imageUrl">
              <div class="uploaded-images">
                <img [src]="imageUrl">
                <button class="btn bg-danger-10 text-danger" (click)="removeImage()">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6 col-6">
              <button type="button" class="btn btn-secondary" (click)="ClearForm()">Clear</button>
            </div>
            <div class="col-sm-6 col-6 text-end">
              <button type="submit" class="btn btn-main">{{btnText}}</button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="col-sm-7">
      <div class="card card-body">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>
                <th>Sr.No.</th>
                <th>Company Logo</th>
                <th>Company Name & URL</th>
                <!-- <th>Company Contact Details</th>
                <th>Contact Person Name</th>
                <th>Contact Person Details</th> -->
                <th>Manage Company</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of responseGetData | paginate: { itemsPerPage: pageSize, currentPage: pageNo, totalItems:totalCount}; let i = index"
                [class.active]="item.id == highlightRow">
                <td>{{((pageNo + 1) * 10 + i + 1)-20}}</td>
                <td>
                  <img [src]="item.francisizeLogo" *ngIf="item.francisizeLogo!='';else imageNotFound"
                    class="company-logo">
                  <ng-template #imageNotFound>-</ng-template>
                </td>
                <td>
                  <p class=" mb-0">{{item.fullName}}</p>
                  <a class="text-main" target="_blank" [href]="item.companyUrl">{{item.companyUrl ? item.companyUrl :
                    '-'}}</a>
                </td>
                <!-- <td>
                  <p class="fw-bold mb-0">{{item.mobileNo1}} <span *ngIf="item.mobileNo2">,{{item.mobileNo2}}</span></p>
                  <p class="text-main mb-0">{{item.companyEmailid ? item.companyEmailid : '-'}}</p>
                </td>
                <td>{{item.contactPersonName ? item.contactPersonName : '-'}}</td>
                <td>
                  <p class="fw-bold mb-0">{{item.contactPersonNo}}</p>
                  <p class="text-main mb-0">{{item.contactPersonEmailId}}</p>
                  <p *ngIf="!item.contactPersonNo && !item.contactPersonEmailId">-</p>
                </td> -->
                <td>
                  <div class="btn-group">
                    <button type="button" title="View Company Details" class="btn btn-light text-dark rounded me-2"
                      data-bs-toggle="modal" data-bs-target="#viewClientModal" (click)="modelObjectData = item"><i
                        class="far fa-eye"></i></button>
                    <button class="btn btn-light text-dark rounded me-2" title="Edit Company Details"
                      (click)="UpdateFrancisizeDetails(item)">
                      <i class="fa fa-edit"></i>
                    </button>
                    <button class="btn btn-light text-danger rounded" title="Delete Company Details"
                      (click)="delConfirmation(item.id)">
                      <i class="fa fa-trash-alt"></i>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="mt-2 text-end" *ngIf="responseGetData?.length == 0">
            <div class="alert alert-danger text-center py-2">No Results Found!</div>
          </div>
          <pagination-controls class="d-flex justify-content-end"
            *ngIf="responseGetData?.length != 0 && totalCount > 10" previousLabel="" nextLabel=""
            (pageChange)="onClickPagintion($event)">
          </pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="viewClientModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="viewClientModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="viewClientModalLabel">Company Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="form-container">
          <div class="row mb-3">
            <div class="form-label">Company Name</div>
            <div class="form-data">{{modelObjectData?.fullName}} </div>
          </div>

          <div class="row mb-3">
            <div class="form-label">Company URL</div>
            <div class="form-data">{{modelObjectData?.companyUrl}}</div>
          </div>


          <div class="row mb-3">
            <div class="col-sm-6">
              <div class="form-label">Email ID</div>
              <div class="form-data">{{modelObjectData?.companyEmailid}}</div>
            </div>
            <div class="col-sm-6">
              <div class="form-label">Mobile No.</div>
              <div class="form-data">{{modelObjectData?.mobileNo1}}</div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-sm-6">
              <div class="form-label">Contact No.</div>
              <div class="form-data">{{modelObjectData?.mobileNo2}}</div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="form-label">Contact Person Name</div>
            <div class="form-data">{{modelObjectData?.contactPersonName}}</div>
          </div>

          <div class="row mb-3">
            <div class="form-label">Contact Person No.</div>
            <div class="form-data">{{modelObjectData?.contactPersonNo}}</div>
          </div>

          <div class="row mb-3">
            <div class="form-label">Contact Person Email ID</div>
            <div class="form-data">{{modelObjectData?.contactPersonEmailId}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>